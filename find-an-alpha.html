<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<!-- Load the Polymer.Element base class -->
<!--<link rel="import" href="bower_components/polymer/polymer-element.html">-->
<link rel="import" href="../google-map/google-map.html">
<link rel="import" href="../geo-location/geo-location.html">
<link rel="import" href="../iron-pages/iron-pages.html">
<link rel="import" href="../iron-form/iron-form.html">
<link rel="import" href="../iron-ajax/iron-ajax.html">
<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../neon-animation/neon-animated-pages.html">
<link rel="import" href="../neon-animation/neon-animations.html">
<link rel="import" href="../google-map-markerclusterer/google-map-markerclusterer.html">
<link rel="import" href="./list-view.html">
<link rel="import" href="./individual-view.html">
<script src="../web-animations-js/web-animations.min.js"></script>
<link rel="import" href="./css/modules/find-an-alpha.html">

<link rel="stylesheet" href="./css/fonts.min.css"/>

<dom-module id="find-an-alpha">
  <template strip-whitespace>

    <!-- Styles MUST be inside templatitudee -->
    <style include="module:find-an-alpha"></style>
	<content></content>
    <!--<geo-location idle=true latitude="{{latitude}}" longitude="{{longitude}}" ></geo-location>-->
      <iron-pages id="iron-pages" selected="0">
        <div id="search">
            <paper-button raised id="find-my-location" on-tap="shareLocation">Find My Location</paper-button>
            <iron-ajax id="geo-search" url="[[api]]" method="GET"></iron-ajax>
              <form is="iron-form"method="get" action="[[api]]" class="clearfix">
                  <div class="form-layout">
                    <label for="cityorpostalcode">City/[[postalZipLabel]]</label>
                    <input name="cityorpostalcode" id="cityorpostalcode" required>
                  </div>
                  <div class="form-layout" data-province-field>
                    	<label for="province">[[localitiesLabel]]</label>
                  </div>
                  <div class="form-layout">
                    <label for="starting-in">Starting in</label>
                    <div class="selectdiv">
                      <select name="starting-in">
                        <option value="1-day">1 Day</option>
                        <option value="1-week">1 Week</option>
                        <option value="1-month" selected>1 Month</option>
                        <option value="3-months">3 Months</option>
                        <option value="6-months">6 Months</option>
                        <option value="any">Any</option>
                      </select>
                    </div>
                  </div>
                  <div class="form-layout">
                    <label for="language">Language</label>
                    <div class="selectdiv">
                      <select name="language">
                        <option value="" selected>Any</option>
                        <option value="English">English</option>
                        <option value="French">French</option>
                        <option value="Mandarin">Mandarin</option>
                        <option value="Cantonese">Cantonese</option>
                      </select>
                    </div>
                  </div>
                  <div class="form-layout">
                    <label for="radius">Radius</label>
                    <div class="selectdiv">
                      <select name="radius">
                        <option value="10km">10km</option>
                        <option value="25km">25km</option>
                        <option value="50km" selected>50km</option>
                      </select>
                    </div>
                  </div>
                  <div class="form-layout">
                  	<span id="errorCity"></span>
                  	<span id="errorProvince"></span>
                    <paper-button raised on-click="submitForm">Search</paper-button>
                  </div>
              </form>
              <div id="searchError"><p></p></div>
        </div>
        <div id="result">
          <neon-animated-pages id="list" selected="0">
            <list-view id="listView" data="[[resultList]]" count="[[count]]"on-backtosearch="backToSearch" on-item-click="_onItemClick" selected="{{selected}}"></list-view>
            <individual-view selected="[[selected]]" on-backtosearch="backToSearch"  on-close="_onClose"></individual-view>
          </neon-animated-pages>
        </div>
    </iron-pages>
    <google-map-markerclusterer map="{{map}}"></google-map-markerclusterer>
    <google-map map="{{map}}" latitude="[[latitude]]" longitude="[[longitude]]"  api-key="AIzaSyCliv-zsZo4mT5elv3DNAnSmjO404plV50" zoom=3>

    </google-map>


    </template>

    <script src="./scripts/find-an-alpha.js">


  </script>

</dom-module>
